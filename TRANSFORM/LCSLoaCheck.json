{
    "version": 1,
    "var_self": {
        "type": "TRANSFORM",
        "id": "fe37c42f-34da-46e7-811a-019d6fa83945",
        "name": "LCSLoaCheck"
    },
    "object": {
        "id": "fe37c42f-34da-46e7-811a-019d6fa83945",
        "name": "LCSLoaCheck",
        "type": "static",
        "attributes": {
            "startDateLteToday": {
                "type": "firstValid",
                "attributes": {
                    "values": [
                        {
                            "type": "dateCompare",
                            "attributes": {
                                "firstDate": {
                                    "type": "dateFormat",
                                    "attributes": {
                                        "input": {
                                            "type": "reference",
                                            "attributes": {
                                                "id": "StartDate"
                                            }
                                        },
                                        "inputFormat": "yyyy-MM-dd",
                                        "outputFormat": "ISO8601"
                                    }
                                },
                                "secondDate": "now",
                                "operator": "lte",
                                "positiveCondition": "true",
                                "negativeCondition": "false"
                            }
                        },
                        "false"
                    ]
                }
            },
            "endDateNoneOrGtToday": {
                "type": "firstValid",
                "attributes": {
                    "values": [
                        {
                            "type": "dateCompare",
                            "attributes": {
                                "firstDate": {
                                    "type": "dateFormat",
                                    "attributes": {
                                        "input": {
                                            "type": "reference",
                                            "attributes": {
                                                "id": "EndDate"
                                            }
                                        },
                                        "inputFormat": "yyyy-MM-dd",
                                        "outputFormat": "ISO8601"
                                    }
                                },
                                "secondDate": "now",
                                "operator": "gt",
                                "positiveCondition": "true",
                                "negativeCondition": "false"
                            }
                        },
                        "true"
                    ]
                }
            },
            "loaStartDateLteToday": {
                "type": "firstValid",
                "attributes": {
                    "values": [
                        {
                            "type": "dateCompare",
                            "attributes": {
                                "firstDate": {
                                    "type": "dateFormat",
                                    "attributes": {
                                        "input": {
                                            "type": "reference",
                                            "attributes": {
                                                "id": "LoaStartDate"
                                            }
                                        },
                                        "inputFormat": "yyyy-MM-dd",
                                        "outputFormat": "ISO8601"
                                    }
                                },
                                "secondDate": "now",
                                "operator": "lte",
                                "positiveCondition": "true",
                                "negativeCondition": "false"
                            }
                        },
                        "false"
                    ]
                }
            },
            "loaEndDateNoneOrGtToday": {
                "type": "firstValid",
                "attributes": {
                    "values": [
                        {
                            "type": "dateCompare",
                            "attributes": {
                                "firstDate": {
                                    "type": "dateFormat",
                                    "attributes": {
                                        "input": {
                                            "type": "reference",
                                            "attributes": {
                                                "id": "LoaEndDate"
                                            }
                                        },
                                        "inputFormat": "yyyy-MM-dd",
                                        "outputFormat": "ISO8601"
                                    }
                                },
                                "secondDate": "now",
                                "operator": "gt",
                                "positiveCondition": "true",
                                "negativeCondition": "false"
                            }
                        },
                        "true"
                    ]
                }
            },
            "isAdvisorLoa - not currently used": {
                "type": "static",
                "attributes": {
                    "loaStartDate": {
                        "type": "reference",
                        "attributes": {
                            "id": "LoaStartDate"
                        }
                    },
                    "loaEndDate": {
                        "type": "reference",
                        "attributes": {
                            "id": "LoaEndDate"
                        }
                    },
                    "status": {
                        "type": "firstValid",
                        "attributes": {
                            "values": [
                                {
                                    "type": "accountAttribute",
                                    "attributes": {
                                        "sourceName": "Advisors - SIS Feed",
                                        "attributeName": "STATUS"
                                    }
                                },
                                "None"
                            ]
                        }
                    },
                    "value": "#if($status == 'Active' && $loaStartDate == 'None')false#{else}true#end"
                }
            },
            "userType": {
                "type": "reference",
                "attributes": {
                    "id": "UserType"
                }
            },
            "loaStartDate": {
                "type": "reference",
                "attributes": {
                    "id": "LoaStartDate"
                }
            },
            "value": "#if($loaStartDate == 'None')false#elseif(($userType == 'Employee' || $userType == 'Contractor') && $startDateLteToday == 'true' && $endDateNoneOrGtToday == 'true' && $loaStartDateLteToday == 'true' && $loaEndDateNoneOrGtToday == 'true')true#{else}false#end"
        },
        "internal": false
    }
}