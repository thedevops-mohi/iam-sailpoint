{
    "version": 1,
    "var_self": {
        "type": "TRANSFORM",
        "id": "c7ab75de-b6d5-4fbb-9130-ef0fc08bb219",
        "name": "EmailDomain"
    },
    "object": {
        "id": "c7ab75de-b6d5-4fbb-9130-ef0fc08bb219",
        "name": "EmailDomain",
        "type": "static",
        "attributes": {
            "userType": {
                "type": "reference",
                "attributes": {
                    "id": "UserType"
                }
            },
            "employeeEmailDomain": {
                "type": "firstValid",
                "attributes": {
                    "values": [
                        {
                            "type": "accountAttribute",
                            "attributes": {
                                "sourceName": "ServiceNowAPI",
                                "attributeName": "emailDomain"
                            }
                        },
                        "none"
                    ]
                }
            },
            "contractorEmailDomain": {
                "type": "firstValid",
                "attributes": {
                    "values": [
                        {
                            "type": "accountAttribute",
                            "attributes": {
                                "sourceName": "ServiceNowAPI",
                                "attributeName": "emailDomain"
                            }
                        },
                        "none"
                    ]
                }
            },
            "advisorEmailDomain": {
                "type": "firstValid",
                "attributes": {
                    "values": [
                        {
                            "type": "static",
                            "attributes": {
                                "language": {
                                    "type": "accountAttribute",
                                    "attributes": {
                                        "sourceName": "Advisors - SIS Feed",
                                        "attributeName": "LANGUAGE"
                                    }
                                },
                                "subscriptionIndicator": {
                                    "type": "accountAttribute",
                                    "attributes": {
                                        "sourceName": "Advisors - SIS Feed",
                                        "attributeName": "SUBT-IND"
                                    }
                                },
                                "value": "#if($language == 'English' && $subscriptionIndicator != '3' && $subscriptionIndicator != '4')ig.ca#elseif($language == 'English' && ($subscriptionIndicator == '3' || $subscriptionIndicator == '4'))igpwm.ca#elseif($language == 'French' && $subscriptionIndicator != '3' && $subscriptionIndicator != '4')ig.ca#elseif($language == 'French' && ($subscriptionIndicator == '3' || $subscriptionIndicator == '4'))iggpp.ca#end"
                            }
                        },
                        "ig.ca"
                    ]
                }
            },
            "isCostCenterOverride": {
                "type": "lookup",
                "attributes": {
                    "input": {
                        "type": "accountAttribute",
                        "attributes": {
                            "sourceName": "ServiceNowAPI",
                            "attributeName": "costCenterId"
                        }
                    },
                    "table": {
                        "103": "true",
                        "104": "true",
                        "107": "true",
                        "156": "true",
                        "175": "true",
                        "186": "true",
                        "192": "true",
                        "261": "true",
                        "268": "true",
                        "291": "true",
                        "418": "true",
                        "426": "true",
                        "1065": "true",
                        "1073": "true",
                        "1076": "true",
                        "1077": "true",
                        "1149": "true",
                        "1186": "true",
                        "1190": "true",
                        "1221": "true",
                        "1222": "true",
                        "1256": "true",
                        "1315": "true",
                        "1319": "true",
                        "1327": "true",
                        "1328": "true",
                        "1329": "true",
                        "1331": "true",
                        "1333": "true",
                        "1335": "true",
                        "1336": "true",
                        "1338": "true",
                        "1339": "true",
                        "1341": "true",
                        "1342": "true",
                        "1343": "true",
                        "1345": "true",
                        "1346": "true",
                        "1347": "true",
                        "1348": "true",
                        "1362": "true",
                        "1363": "true",
                        "1373": "true",
                        "1377": "true",
                        "1380": "true",
                        "1497": "true",
                        "7005": "true",
                        "7008": "true",
                        "7020": "true",
                        "7022": "true",
                        "7061": "true",
                        "7139": "true",
                        "7175": "true",
                        "7264": "true",
                        "7305": "true",
                        "7306": "true",
                        "7308": "true",
                        "7309": "true",
                        "7310": "true",
                        "7311": "true",
                        "7313": "true",
                        "7314": "true",
                        "7315": "true",
                        "7316": "true",
                        "7317": "true",
                        "7321": "true",
                        "7329": "true",
                        "7330": "true",
                        "7331": "true",
                        "7332": "true",
                        "7333": "true",
                        "7337": "true",
                        "7356": "true",
                        "7357": "true",
                        "7381": "true",
                        "7822": "true",
                        "7823": "true",
                        "7824": "true",
                        "7825": "true",
                        "7826": "true",
                        "7921": "true",
                        "7922": "true",
                        "7923": "true",
                        "7999": "true",
                        "default": "false"
                    }
                }
            },
            "isIgCa": {
                "type": "firstValid",
                "attributes": {
                    "values": [
                        {
                            "type": "static",
                            "attributes": {
                                "company": {
                                    "type": "accountAttribute",
                                    "attributes": {
                                        "sourceName": "ServiceNowAPI",
                                        "attributeName": "company"
                                    }
                                },
                                "value": "#if($company.contains(\"Investors\") || $company.contains(\"IG Dublin\") || $company.contains(\"IG\"))true#{else}false#end"
                            }
                        },
                        "false"
                    ]
                }
            },
            "isMackenzieInvestments": {
                "type": "firstValid",
                "attributes": {
                    "values": [
                        {
                            "type": "static",
                            "attributes": {
                                "company": {
                                    "type": "accountAttribute",
                                    "attributes": {
                                        "sourceName": "ServiceNowAPI",
                                        "attributeName": "company"
                                    }
                                },
                                "value": "#if($company.contains(\"Mackenzie\") || $company.contains(\"CIBC Mellon\"))true#{else}false#end"
                            }
                        },
                        "false"
                    ]
                }
            },
            "isIpc": {
                "type": "firstValid",
                "attributes": {
                    "values": [
                        {
                            "type": "static",
                            "attributes": {
                                "company": {
                                    "type": "accountAttribute",
                                    "attributes": {
                                        "sourceName": "ServiceNowAPI",
                                        "attributeName": "company"
                                    }
                                },
                                "value": "#if($company.contains(\"IPC\") || $company.contains(\"Investment Planning Counsel\"))true#{else}false#end"
                            }
                        },
                        "false"
                    ]
                }
            },
            "isCundill": {
                "type": "firstValid",
                "attributes": {
                    "values": [
                        {
                            "type": "static",
                            "attributes": {
                                "company": {
                                    "type": "accountAttribute",
                                    "attributes": {
                                        "sourceName": "ServiceNowAPI",
                                        "attributeName": "company"
                                    }
                                },
                                "value": "#if($company.contains(\"Cundill\"))true#{else}false#end"
                            }
                        },
                        "false"
                    ]
                }
            },
            "value": "#if($userType == 'Employee' && $employeeEmailDomain != 'none')$employeeEmailDomain#elseif($userType == 'Contractor' && $contractorEmailDomain != 'none')$contractorEmailDomain#elseif(($userType == 'Employee' || $userType == 'Contractor') && $isCostCenterOverride == 'true')IGMFinancial.com#elseif(($userType == 'Employee' || $userType == 'Contractor') && $isCundill == 'true')mackenziecundill.com#elseif(($userType == 'Employee' || $userType == 'Contractor') && $isMackenzieInvestments == 'true')mackenzieinvestments.com#elseif(($userType == 'Employee' || $userType == 'Contractor') && $isIgCa == 'true')ig.ca#elseif(($userType == 'Employee' || $userType == 'Contractor') && $isIpc == 'true')igmdev.net#elseif($userType == 'Advisor')$advisorEmailDomain#{else}IGMFinancial.com#end"
        },
        "internal": false
    }
}