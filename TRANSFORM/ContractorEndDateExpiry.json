{
    "version": 1,
    "var_self": {
        "type": "TRANSFORM",
        "id": "c347c18e-eb11-4d31-90a5-c9c56163636c",
        "name": "ContractorEndDateExpiry"
    },
    "object": {
        "id": "c347c18e-eb11-4d31-90a5-c9c56163636c",
        "name": "ContractorEndDateExpiry",
        "type": "static",
        "attributes": {
            "requiresPeriodicRefresh": true,
            "userType": {
                "type": "reference",
                "attributes": {
                    "id": "UserType"
                }
            },
            "todayPlus7Days": {
                "type": "dateFormat",
                "attributes": {
                    "input": {
                        "type": "dateMath",
                        "attributes": {
                            "expression": "now+7d/d",
                            "roundUp": false,
                            "input": {}
                        }
                    },
                    "inputFormat": "yyyy-MM-dd'T'HH:mm",
                    "outputFormat": "yyyy-MM-dd"
                }
            },
            "todayPlus14Days": {
                "type": "dateFormat",
                "attributes": {
                    "input": {
                        "type": "dateMath",
                        "attributes": {
                            "expression": "now+14d/d",
                            "roundUp": false,
                            "input": {}
                        }
                    },
                    "inputFormat": "yyyy-MM-dd'T'HH:mm",
                    "outputFormat": "yyyy-MM-dd"
                }
            },
            "todayPlus21Days": {
                "type": "dateFormat",
                "attributes": {
                    "input": {
                        "type": "dateMath",
                        "attributes": {
                            "expression": "now+21d/d",
                            "roundUp": false,
                            "input": {}
                        }
                    },
                    "inputFormat": "yyyy-MM-dd'T'HH:mm",
                    "outputFormat": "yyyy-MM-dd"
                }
            },
            "todayPlus28Days": {
                "type": "dateFormat",
                "attributes": {
                    "input": {
                        "type": "dateMath",
                        "attributes": {
                            "expression": "now+28d/d",
                            "roundUp": false,
                            "input": {}
                        }
                    },
                    "inputFormat": "yyyy-MM-dd'T'HH:mm",
                    "outputFormat": "yyyy-MM-dd"
                }
            },
            "today": {
                "type": "dateMath",
                "attributes": {
                    "expression": "now/d",
                    "roundUp": true,
                    "input": {}
                }
            },
            "endDate": {
                "type": "reference",
                "attributes": {
                    "id": "EndDate"
                }
            },
            "value": "#if($userType == 'Contractor' &&  $endDate == $todayPlus7Days)Notify#elseif($userType == 'Contractor' && $endDate == $todayPlus14Days)Notify#elseif($userType == 'Contractor' && $endDate == $todayPlus21Days)Notify#elseif($userType == 'Contractor' && $endDate == $todayPlus28Days)Notify#{else}#end"
        },
        "internal": false
    }
}