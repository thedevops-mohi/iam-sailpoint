{
    "version": 1,
    "var_self": {
        "type": "TRANSFORM",
        "id": "d4b5bcde-e449-41c4-b2a8-f21305fe8004",
        "name": "Company"
    },
    "object": {
        "id": "d4b5bcde-e449-41c4-b2a8-f21305fe8004",
        "name": "Company",
        "type": "static",
        "attributes": {
            "value": "#if($bestSource == 'use_SFAuth')#set($finalValue = $SFAuth_value)#elseif($bestSource == 'use_SFNonAuth')#set($finalValue = $SFNonAuth_value)#elseif($bestSource == 'use_SAPECC')#set($finalValue = $SAP_value)#elseif($bestSource == 'use_SIS')#set($finalValue = $SIS_value)#elseif($bestSource.compareToIgnoreCase('use_servicenow') == 0)#set($finalValue = $SNOW_value)#{else}#set($finalValue = $exceptionText)#end#if($finalValue != 'null')$finalValue#end",
            "SAP_value": {
                "type": "static",
                "attributes": {
                    "employeeSourceCompany": {
                        "type": "firstValid",
                        "attributes": {
                            "values": [
                                {
                                    "type": "accountAttribute",
                                    "attributes": {
                                        "sourceName": "Employees SAP ECC",
                                        "attributeName": "BUKRS"
                                    }
                                },
                                {
                                    "type": "static",
                                    "attributes": {
                                        "value": "0"
                                    }
                                }
                            ]
                        }
                    },
                    "value": "#set($Integer = 0)#if($employeeSourceCompany != '0')#set($company = $Integer.valueOf($employeeSourceCompany))#{else}#set($company = 0)#end#if($company >= 1000 && $company <= 1999)Investors Group#elseif($company >= 3000 && $company <= 3999)Investment Planning Counsel#elseif($company >= 4000 && $company <= 4999)Mackenzie Financial Corp.#end"
                }
            },
            "SFAuth_value": {
                "type": "lookup",
                "attributes": {
                    "input": {
                        "type": "accountAttribute",
                        "attributes": {
                            "sourceName": "SuccessFactors-Auth",
                            "attributeName": "Company",
                            "accountSortAttribute": "StartDate_EmpInfo",
                            "accountSortDescending": true,
                            "accountReturnFirstLink": true
                        }
                    },
                    "table": {
                        "Investors Group Financial Services": "Investors Group",
                        "Investors Group Investment Management": "Investors Group",
                        "Investors Group Insurance Services Inc.": "Investors Group",
                        "Investors Group Inc.": "Investors Group",
                        "Investors Group Securities Inc.": "Investors Group",
                        "IGWM Inc.": "Investors Group",
                        "Investment Planning Counsel Inc.": "Investment Planning Counsel",
                        "Mackenzie Financial Corporation": "Mackenzie Financial Corp.",
                        "Mackenzie Investments Corp.": "Mackenzie Financial Corp.",
                        "Mackenzie Investments EUR Ltd": "Mackenzie Financial Corp.",
                        "Mackenzie Investments Asia Ltd": "Mackenzie Financial Corp.",
                        "IG Wealth Management Inc.": "Investors Group",
                        "default": "null"
                    }
                }
            },
            "SFNonAuth_value": {
                "type": "lookup",
                "attributes": {
                    "input": {
                        "type": "accountAttribute",
                        "attributes": {
                            "sourceName": "SuccessFactors - NonAuthoritative",
                            "attributeName": "Company",
                            "accountSortAttribute": "StartDate_EmpInfo",
                            "accountSortDescending": true,
                            "accountReturnFirstLink": true
                        }
                    },
                    "table": {
                        "Investors Group Financial Services": "Investors Group",
                        "Investors Group Investment Management": "Investors Group",
                        "Investors Group Insurance Services Inc.": "Investors Group",
                        "Investors Group Inc.": "Investors Group",
                        "Investors Group Securities Inc.": "Investors Group",
                        "IGWM Inc.": "Investors Group",
                        "Investment Planning Counsel Inc.": "Investment Planning Counsel",
                        "Mackenzie Financial Corporation": "Mackenzie Financial Corp.",
                        "Mackenzie Investments Corp.": "Mackenzie Financial Corp.",
                        "Mackenzie Investments EUR Ltd": "Mackenzie Financial Corp.",
                        "Mackenzie Investments Asia Ltd": "Mackenzie Financial Corp.",
                        "IG Wealth Management Inc.": "Investors Group",
                        "default": "null"
                    }
                }
            },
            "SIS_value": {
                "type": "firstValid",
                "attributes": {
                    "values": [
                        {
                            "type": "accountAttribute",
                            "attributes": {
                                "sourceName": "Advisors - SIS Feed",
                                "attributeName": "COMPANY"
                            }
                        },
                        "null"
                    ]
                }
            },
            "SNOW_value": {
                "type": "firstValid",
                "attributes": {
                    "values": [
                        {
                            "type": "accountAttribute",
                            "attributes": {
                                "sourceName": "ServiceNowAPI",
                                "attributeName": "company"
                            }
                        },
                        "null"
                    ]
                }
            },
            "TransformDesrcription": {
                "type": "static",
                "attributes": {
                    "value": "Used to populate the company attribute."
                }
            },
            "bestSource": {
                "type": "reference",
                "attributes": {
                    "id": "BestSource"
                }
            },
            "exceptionText": {
                "type": "static",
                "attributes": {
                    "value": "transform:Company:unhandled"
                }
            }
        },
        "internal": false
    }
}