{
    "name": "CustomAuthAfterOperationRule",
    "description": "This rule is used by the Web Services connector to update parsed resource object. Create List of Objects which will later converted to Resource object.",
    "type": "WebServiceAfterOperationRule",
    "signature": {
        "input": [
            {
                "name": "application",
                "description": "The application whose data file is being processed.",
                "type": null
            },
            {
                "name": "requestEndPoint",
                "description": "The current request information contain header, body ,response object",
                "type": null
            },
            {
                "name": "processedResponseObject",
                "description": "Response Object processed by the Web services connector",
                "type": null
            },
            {
                "name": "rawResponseObject",
                "description": "Response Object returned from the end system",
                "type": null
            },
            {
                "name": "restClient",
                "description": "REST Client Object",
                "type": null
            }
        ],
        "output": {
            "name": "Update Account/Group List",
            "description": "Update information Map contains parsed list of accounts",
            "type": null
        }
    },
    "source_code": {
        "version": "1.0",
        "script": "import java.util.HashMap;\nimport java.util.Map;\n\nlog.error(\"Kiteworks: Enter rule.\");\nMap updatedMapInfo = new HashMap();\nMap transientValues = (Map) application.getAttributeValue(\"transientValues\");\nif (transientValues == null) {\n    transientValues = new HashMap();\n}\n\nString newRefreshToken = (String) transientValues.get(\"custom_refreshtoken\");\nString newAccessToken = (String) transientValues.get(\"custom_accesstoken\");\n\nMap connectorStateMap = new HashMap();\nconnectorStateMap.put(\"custom_refreshtoken\",newRefreshToken);\nconnectorStateMap.put(\"custom_accesstoken\", newAccessToken);\nupdatedMapInfo.put(\"connectorStateMap\",connectorStateMap);\nlog.error(\"Kiteworks: Setting refresh token \" + newRefreshToken);\n\nlog.error(\"Kiteworks: After rule.\");\nreturn updatedMapInfo;"
    },
    "attributes": {
        "sourceVersion": "1.0"
    },
    "id": "813d1dd869da42259391eb23de3a4fdb",
    "created": "2025-12-02T23:54:26.966Z",
    "modified": "2025-12-05T23:02:53.582Z"
}